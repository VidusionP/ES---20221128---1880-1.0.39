(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{636:function(n,t,e){"use strict";e.r(t),function(n){e.d(t,"default",(function(){return h}));var a=e(2),o=e(649),i=e(645),s=e(652),r=e(653),c=e(654),p=e(643),l=e(655);e(314);function u(n,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,t){return n.__proto__=t,n})(n,t)}var h=function(t){var e,o;function h(){return t.apply(this,arguments)||this}o=t,(e=h).prototype=Object.create(o.prototype),e.prototype.constructor=e,u(e,o);var d=h.prototype;return d.onReady=function(){Object(i.a)(this.context.urls),n("#facetedSearch").length>0?this.initFacetedSearch():(this.onSortBySubmit=this.onSortBySubmit.bind(this),a.c.on("sortBy-submitted",this.onSortBySubmit)),this.showProductsPerPage(),this.showMoreProducts(),this.fancyboxVideoBanner(),this.loadOptionForProductCard(this.context),Object(c.a)(),Object(r.a)(),Object(l.a)(this.context),this.reviewShow()},d.initFacetedSearch=function(){var t=this,e=n("#product-listing-container .productListing"),a=n("#faceted-search-container"),o=n(".pagination"),i=n(".halo-product-show-more"),r={config:{category:{shop_by_price:!0,products:{limit:this.context.categoryProductsPerPage}}},template:{productListing:"halothemes/gallery/halo-product-listing",sidebar:"category/sidebar",paginator:"halothemes/gallery/halo-product-paginator"},showMore:"category/show-more"};this.facetedSearch=new s.a(r,(function(s){e.html(s.productListing),a.html(s.sidebar),o.html(n(s.paginator).find(".pagination").children()),i.html(n(s.paginator).find(".halo-product-show-more").children()),n("body").triggerHandler("compareReset"),n("#product-listing-container .product").length>0&&Object(p.a)(t.context,"product-listing-container"),t.showProductsPerPage(),t.showMoreProducts(),n("html, body").animate({scrollTop:0},100)}))},d.showProductsPerPage=function(){this.reviewShow();try{var n=new URL(window.location.href).searchParams.get("limit");if(null!=n){var t=document.querySelectorAll("select#limit option");Array.prototype.forEach.call(t,(function(t){t.value==n&&(t.selected=!0)}))}}catch(n){}},d.showMoreProducts=function(){var t=this.context;n("#listing-showmoreBtn > a").on("click",(function(e){e.preventDefault();var a=n(".pagination-item--current").next(),o=a.find("a").attr("href");n("#listing-showmoreBtn > a").addClass("loading"),n.ajax({type:"get",url:o.replace("http://","//"),success:function(e){var o,i;n(e).find("#product-listing-container .productListing").length>0&&(n("#product-listing-container .productListing").append(n(e).find("#product-listing-container .productListing").children()),o=document.querySelectorAll(".productSku1"),i=[],Promise.all([fetch("https://www.teamdesk.net/secure/api/v2/56554/BEA2566590EF4D14AA8D35AD0E2CEA77/Review/select.json").then((function(n){return n.json()})).then((function(n){i.push.apply(i,n)})),fetch("https://www.teamdesk.net/secure/api/v2/56554/BEA2566590EF4D14AA8D35AD0E2CEA77/Review/select.json?skip=500").then((function(n){return n.json()})).then((function(n){i.push.apply(i,n)})),fetch("https://www.teamdesk.net/secure/api/v2/56554/BEA2566590EF4D14AA8D35AD0E2CEA77/Review/select.json?skip=1000").then((function(n){return n.json()})).then((function(n){i.push.apply(i,n)})),fetch("https://www.teamdesk.net/secure/api/v2/56554/BEA2566590EF4D14AA8D35AD0E2CEA77/Review/select.json?skip=1500").then((function(n){return n.json()})).then((function(n){i.push.apply(i,n)}))]).then((function(t){o.forEach((function(t){n(t.nextElementSibling).empty(),"M106"==t.innerHTML?t.innerHTML="M106#1":"M106L"==t.innerHTML?t.innerHTML="M106L#1":"Queen_18"==t.innerHTML&&(t.innerHTML="Q18");var e=[];i.filter((function(n){return n["Product SKU"]===t.innerHTML})).forEach((function(n){e.push(n["Review rate"])}));var a=Math.round(e.reduce((function(n,t){return n+t}),0)/e.length*10)/10;n(t.nextElementSibling).append('\n                                <style>    .checked {\n                                    color: rgb(255, 210, 0);\n                            \n                            }\n                            .fa-star-o {\n                                color: rgb(255, 210, 0);\n                        \n                            }\n                            @media (min-width: 768px) {\n                                .checking {\n                                    display: flex;\n                                    gap:5px;\n                                }\n                            }\n                            </style>\n                <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">\n                                \n                                <span>\n                                <span class="fa fa-star'+(.5<=a?" checked":" fa-star-o")+'"></span>\n                                <span class="fa fa-star'+(1.5<=a?" checked":" fa-star-o")+'"></span>\n                                <span class="fa fa-star'+(2.5<=a?" checked":" fa-star-o")+'"></span>\n                                <span class="fa fa-star'+(3.5<=a?" checked":" fa-star-o")+'"></span>\n                                <span class="fa fa-star'+(4.5<=a?" checked":" fa-star-o")+'"></span>      \n                            </span>\n                            <div>\n                                '+e.length+" Reseñas\n                            </div>")}))})).catch((function(n){console.log(n)})),n(".pagination-list").html(n(e).find(".pagination-list").html()),n("#listing-showmoreBtn > a").removeClass("loading").blur(),Number(n(e).find(".pagination-info .end").text())<=Number(n(e).find(".pagination-info .total").text())?n(".pagination .pagination-info .end").text(n(e).find(".pagination-info .end").text()):n(".pagination .pagination-info .end").text(n(e).find(".pagination-info .total").text()),0===(a=n(".pagination-item--current").next()).length&&n("#listing-showmoreBtn > a").addClass("disable").text("No more products"),n(e).find("#product-listing-container .product").length>0&&Object(p.a)(t,"product-listing-container"))}})}))},d.fancyboxVideoBanner=function(){n(".video-block-image[data-fancybox]").length>0&&n(".video-block-image[data-fancybox]").fancybox({autoDimensions:!1,padding:0,width:970,height:600,autoScale:!1,transitionIn:"none",transitionOut:"none"}),n(".button-popup-video[data-fancybox]").length>0&&n(".button-popup-video[data-fancybox]").fancybox({autoDimensions:!1,padding:0,width:970,height:600,autoScale:!1,transitionIn:"none",transitionOut:"none"})},d.loadOptionForProductCard=function(t){n("#featured-products .card").length>0&&Object(p.a)(t,"featured-products"),n("#product-listing-container .product").length>0&&Object(p.a)(t,"product-listing-container")},d.reviewShow=function(){var t=document.querySelectorAll(".productSku1"),e=[];Promise.all([fetch("https://www.teamdesk.net/secure/api/v2/56554/BEA2566590EF4D14AA8D35AD0E2CEA77/Review/select.json").then((function(n){return n.json()})).then((function(n){e.push.apply(e,n)})),fetch("https://www.teamdesk.net/secure/api/v2/56554/BEA2566590EF4D14AA8D35AD0E2CEA77/Review/select.json?skip=500").then((function(n){return n.json()})).then((function(n){e.push.apply(e,n)})),fetch("https://www.teamdesk.net/secure/api/v2/56554/BEA2566590EF4D14AA8D35AD0E2CEA77/Review/select.json?skip=1000").then((function(n){return n.json()})).then((function(n){e.push.apply(e,n)})),fetch("https://www.teamdesk.net/secure/api/v2/56554/BEA2566590EF4D14AA8D35AD0E2CEA77/Review/select.json?skip=1500").then((function(n){return n.json()})).then((function(n){e.push.apply(e,n)}))]).then((function(a){t.forEach((function(t){n(t.nextElementSibling).empty(),"M106"==t.innerHTML?t.innerHTML="M106#1":"M106L"==t.innerHTML?t.innerHTML="M106L#1":"Queen_18"==t.innerHTML&&(t.innerHTML="Q18");var a=[];e.filter((function(n){return n["Product SKU"]===t.innerHTML})).forEach((function(n){a.push(n["Review rate"])}));var o=Math.round(a.reduce((function(n,t){return n+t}),0)/a.length*10)/10;n(t.nextElementSibling).append('\n                <style>    .checked {\n                    color: rgb(255, 210, 0);\n            \n            }\n            .fa-star-o {\n                color: rgb(255, 210, 0);\n        \n            }\n            @media (min-width: 768px) {\n                .checking {\n                    display: flex;\n                    gap:5px;\n                }\n            }\n            @media (min-width: 1025px) {\n                .checking {\n                    display: unset;\n                }\n            }\n            @media (min-width: 1425px) {\n                .checking {\n                    display: flex;\n                }\n            }\n            </style>\n<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">\n                \n                <span>\n                <span class="fa fa-star'+(.5<=o?" checked":" fa-star-o")+'"></span>\n                <span class="fa fa-star'+(1.5<=o?" checked":" fa-star-o")+'"></span>\n                <span class="fa fa-star'+(2.5<=o?" checked":" fa-star-o")+'"></span>\n                <span class="fa fa-star'+(3.5<=o?" checked":" fa-star-o")+'"></span>\n                <span class="fa fa-star'+(4.5<=o?" checked":" fa-star-o")+'"></span>      \n            </span>\n            <div>\n                '+a.length+" Reseñas\n            </div>")}))})).catch((function(n){console.log(n)}))},h}(o.a)}.call(this,e(0))}}]);
//# sourceMappingURL=theme-bundle.chunk.17.js.map
